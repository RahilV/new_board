<!doctype html>
<html>
	<head>
		<meta charset="utf-8">
		<script type="text/javascript" src="importantFiles/overlay/js/jquery.3.5.1.min.js"></script>
		<script type="text/javascript" src="importantFiles/overlay/js/fitty.js"></script>

		<script type="text/javascript" src="importantFiles/overlay/js/constants.js"></script>
		<script type="text/javascript" src="importantFiles/overlay/js/variables.js"></script>
		<script type="text/javascript" src="importantFiles/overlay/js/helper.js"></script>
		<script type="text/javascript" src="importantFiles/overlay/js/overlayManager.js"></script>

		<!-- Custom font links here -->
		<link rel="preconnect" href="https://fonts.gstatic.com">
		<link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;700&display=swap" rel="stylesheet">
		<link rel="stylesheet" type="text/css" href="importantFiles/overlay/css/styles.css"></link>
		<link rel="stylesheet" type="text/css" href="importantFiles/overlay/css/font.css"></link>
		<link rel="stylesheet" type="text/css" href="importantFiles/overlay/css/contentBoxes.css"></link>
		<link rel="stylesheet" type="text/css" href="importantFiles/overlay/css/queu.css"></link>
		<link rel="stylesheet" type="text/css" href="importantFiles/overlay/css/snackbar.css"></link>

		<style id="contentCSS" type="text/css"></style>
		<link id="contentFile" rel="stylesheet" type="text/css"></link>
	</head>
	<body>
		<div class="scoreBoard">
			<!-- Div to display the message -->
			<div id="queenPocketedMessage" class="contentBox">
				<span id="queenPocketedText"></span>
			</div>

			<!-- divs to contain the background images -->
			<div id="player1Name" class="scoreboardPart"></div>
			<div id="player1State" class="scoreboardPart"></div>

			<div id="player2State" class="scoreboardPart"></div>
			<div id="player2Name" class="scoreboardPart"></div>

			<div id="mainScore" class="scoreboardPart"></div>
			<div id="player1Score" class="scoreboardPart"></div>
			<div id="player2Score" class="scoreboardPart"></div>

			<div id="player1Set" class="scoreboardPart"></div>
			<div id="player2Set" class="scoreboardPart"></div>

			<!-- divs to contain text content -->
			<!-- spans that contain the text -->
			<div class="contentBox" id="player1ScoreBox">
				<span class="playerScoreText" id="player1ScoreText"></span>
			</div>
			<div class="contentBox" id="player1NameBox">
				<span class="playerNameText" id="player1NameText"></span>
			</div>
			<div class="contentBox" id="player1SetBox">
				<span class="playerNameText" id="player1SetBoxText"></span>
			</div>

			<div class="contentBox" id="player2NameBox">
				<span class="playerNameText" id="player2NameText"></span>
			</div>
			<div class="contentBox" id="player2ScoreBox">
				<span class="playerScoreText" id="player2ScoreText"></span>
			</div>
			<div class="contentBox" id="player2SetBox">
				<span class="playerNameText" id="player2SetBoxText"></span>
			</div>

			<div class="contentBox" id="player1StateName">
				<span class="player1StateText" id="player1StateText"></span>
			</div>

			<div class="contentBox" id="player2StateName">
				<span class="player2StateText" id="player2StateText"></span>
			</div>

			<div class="contentBox" id="boardNumberBox">
				<span class="currentBoardText" id="currentBoardText"></span>
			</div>
		</div>

		<div id="inputSection">
			<div id="player1Inputs" class="inputColumn">
				<label for="player1NameInput">Player 1 Name:</label>
				<input type="text" id="player1NameInput" placeholder="Enter Player 1 Name">

				<label for="player1StateInput">Player 1 State:</label>
				<input type="text" id="player1StateInput" placeholder="Enter Player 1 State">

				<label for="player1SetScoreInput">Player 1 Set Score:</label>
				<input type="number" id="player1SetScoreInput" placeholder="Enter Set Score (0-3)" min="0" max="3">

				<label for="player1ScoreInput">Player 1 Score:</label>
				<input type="number" id="player1ScoreInput" placeholder="Enter Player 1 Score">
			</div>

			<div id="player2Inputs" class="inputColumn">
				<label for="player2NameInput">Player 2 Name:</label>
				<input type="text" id="player2NameInput" placeholder="Enter Player 2 Name">

				<label for="player2StateInput">Player 2 State:</label>
				<input type="text" id="player2StateInput" placeholder="Enter Player 2 State">

				<label for="player2SetScoreInput">Player 2 Set Score:</label>
				<input type="number" id="player2SetScoreInput" placeholder="Enter Set Score (0-3)" min="0" max="3">

				<label for="player2ScoreInput">Player 2 Score:</label>
				<input type="number" id="player2ScoreInput" placeholder="Enter Player 2 Score">
			</div>

			<!-- Current Board Input -->
			<div id="currentBoardInputs" class="inputColumn">
				<label for="currentBoardInput">Current Board:</label>
				<input type="number" id="currentBoardInput" placeholder="Enter Current Board (0-8)" min="0" max="8" value="0">
				<br>
				<div id="swapPlayersContainer" class="actionGroup">
					<button id="swapPlayersButton">Swap Players</button>
				</div>
			</div>
			<div id="currentBoardInputs" class="inputColumn">
				<label for="queenPocketedDropdown">Select Player to pocket Queen:</label>
				<div id="actionInputs" class="actionContainer">
					<div id="queenPocketedInputs" class="actionGroup">
						<select id="queenPocketedDropdown">
							<option value="player1">Player 1</option>
							<option value="player2">Player 2</option>
						</select>
						<button id="queenPocketedButton">Announce Queen</button>
					</div>
					<label for="winnerDropdown">Select Winner:</label>
					<div id="winnerInputs" class="actionGroup">
						<select id="winnerDropdown">
							<option value="player1">Player 1</option>
							<option value="player2">Player 2</option>
						</select>
						<button id="winnerButton">Announce Winner</button>
					</div>
				</div>
			</div>
			<div id="currentBoardInputs" class="inputColumn">
				<label for="whiteSlamDropdown">Select White Slam:</label>
				<div id="actionInputs" class="actionContainer">
					<div id="whiteSlamInputs" class="actionGroup">
						<select id="whiteSlamDropdown">
							<option value="player1">Player 1</option>
							<option value="player2">Player 2</option>
						</select>
						<button id="whiteSlamButton">Announce White Slam</button>
					</div>
					<label for="blackSlamDropdown">Select Black Slam:</label>
					<div id="blackSlamInputs" class="actionGroup">
						<select id="blackSlamDropdown">
							<option value="player1">Player 1</option>
							<option value="player2">Player 2</option>
						</select>
						<button id="blackSlamButton">Announce Black Slam</button>
					</div>
				</div>
			</div>
		</div>


		<!-- snackbar -->
		<div class="snackbar" id="snackbar"></div>
	</body>
	<script type="text/javascript">

		document.getElementById('player1SetBoxText').textContent = "00";
		document.getElementById('player2SetBoxText').textContent = "00";

		document.getElementById('player1ScoreText').textContent = "00";
		document.getElementById('player2ScoreText').textContent = "00";

		document.getElementById('currentBoardText').textContent = "00";

        // Real-time update of Player 1's name
        document.getElementById('player1NameInput').addEventListener('input', function(event) {
            const nameInput = event.target.value;
            document.getElementById('player1NameText').textContent = nameInput;
        });

		document.getElementById('player2NameInput').addEventListener('input', function(event) {
            const nameInput = event.target.value;
            document.getElementById('player2NameText').textContent = nameInput;
        });

		// Real-time updates for Player 1 and Player 2 State Names
        document.getElementById('player1StateInput').addEventListener('input', function(event) {
            const stateInput = event.target.value;
            document.getElementById('player1StateText').textContent = stateInput;
        });

        document.getElementById('player2StateInput').addEventListener('input', function(event) {
            const stateInput = event.target.value;
            document.getElementById('player2StateText').textContent = stateInput;
        });

		// Real-time updates for Player 1 and Player 2 Set Scores with restrictions
		document.getElementById('player1SetScoreInput').addEventListener('input', function(event) {
			let setScore = event.target.value;

			// Restrict input to a maximum value of 3
			if (setScore > 3) {
				setScore = 3;
				event.target.value = setScore; // Update the input field
			}

			// Format the score to two digits
			setScore = setScore.toString().padStart(2, '0');
			document.getElementById('player1SetBoxText').textContent = setScore;
		});

		document.getElementById('player2SetScoreInput').addEventListener('input', function(event) {
			let setScore = event.target.value;

			// Restrict input to a maximum value of 3
			if (setScore > 3) {
				setScore = 3;
				event.target.value = setScore; // Update the input field
			}

			// Format the score to two digits
			setScore = setScore.toString().padStart(2, '0');
			document.getElementById('player2SetBoxText').textContent = setScore;
		});

		// Real-time updates for Player 1 Score with double-digit formatting
		document.getElementById('player1ScoreInput').addEventListener('input', function(event) {
			let score = event.target.value;

			// Ensure the score is within bounds
			if (score < 0) {
				score = 0;
				event.target.value = score;
			} else if (score > 99) {
				score = 99;
				event.target.value = score;
			}

			// Format the score as double digits
			score = score.toString().padStart(2, '0');
			document.getElementById('player1ScoreText').textContent = score;
		});

		// Real-time updates for Player 2 Score with double-digit formatting
		document.getElementById('player2ScoreInput').addEventListener('input', function(event) {
			let score = event.target.value;

			// Ensure the score is within bounds
			if (score < 0) {
				score = 0;
				event.target.value = score;
			} else if (score > 99) {
				score = 99;
				event.target.value = score;
			}

			// Format the score as double digits
			score = score.toString().padStart(2, '0');
			document.getElementById('player2ScoreText').textContent = score;
		});


		// Real-time updates for the Current Board
		document.getElementById('currentBoardInput').addEventListener('input', function(event) {
			let board = event.target.value;

			// Ensure the board number is within the range 0-8
			if (board < 0) {
				board = 0;
				event.target.value = board;
			} else if (board > 8) {
				board = 8;
				event.target.value = board;
			}

			// Format the board number as two digits
			board = board.toString().padStart(2, '0');
			document.getElementById('currentBoardText').textContent = board;
		});

		// Update the dropdown options dynamically based on Player 1 and Player 2 names
		document.getElementById('player1NameInput').addEventListener('input', function (event) {
			const player1Name = event.target.value || 'Player 1'; // Default to "Player 1" if input is empty

			// Update all Player 1 related dropdown options
			document.querySelector('#queenPocketedDropdown option[value="player1"]').textContent = player1Name;
			document.querySelector('#winnerDropdown option[value="player1"]').textContent = player1Name;
			document.querySelector('#whiteSlamDropdown option[value="player1"]').textContent = player1Name;
			document.querySelector('#blackSlamDropdown option[value="player1"]').textContent = player1Name;
		});

		document.getElementById('player2NameInput').addEventListener('input', function (event) {
			const player2Name = event.target.value || 'Player 2'; // Default to "Player 2" if input is empty

			// Update all Player 2 related dropdown options
			document.querySelector('#queenPocketedDropdown option[value="player2"]').textContent = player2Name;
			document.querySelector('#winnerDropdown option[value="player2"]').textContent = player2Name;
			document.querySelector('#whiteSlamDropdown option[value="player2"]').textContent = player2Name;
			document.querySelector('#blackSlamDropdown option[value="player2"]').textContent = player2Name;
		});


		// Announce Pocketed Queen
		document.getElementById('queenPocketedButton').addEventListener('click', function () {
			announce('queenPocketedDropdown', 'pocketed the queen');
		});

		// Announce Winner
		document.getElementById('winnerButton').addEventListener('click', function () {
			announce('winnerDropdown', 'wins the game 🎉');
		});

		// Announce White Slam
		document.getElementById('whiteSlamButton').addEventListener('click', function () {
			announceSlam('whiteSlamDropdown', 'White Slam by');
		});

		// Announce Black Slam
		document.getElementById('blackSlamButton').addEventListener('click', function () {
			announceSlam('blackSlamDropdown', 'Black Slam by');
		});

		// Utility function to handle announcements
		function announce(dropdownId, action) {
			const dropdown = document.getElementById(dropdownId);
			const selectedPlayer = dropdown.value;
			const player1Name = document.getElementById('player1NameInput').value || 'Player 1';
			const player2Name = document.getElementById('player2NameInput').value || 'Player 2';

			const message = selectedPlayer === 'player1'
				? `${player1Name} ${action}`
				: `${player2Name} ${action}`;

			showMessage(message);
		}
		// Function specifically for slams
		function announceSlam(dropdownId, action) {
			const dropdown = document.getElementById(dropdownId);
			const selectedPlayer = dropdown.value;
			const player1Name = document.getElementById('player1NameInput').value || 'Player 1';
			const player2Name = document.getElementById('player2NameInput').value || 'Player 2';

			// Construct the slam message
			const message = selectedPlayer === 'player1'
				? `${action} ${player1Name}`
				: `${action} ${player2Name}`;

			// Display the slam message
			showMessage(message);
		}

		// Utility function to display the message
		function showMessage(message) {
			const messageBox = document.getElementById('queenPocketedMessage');
			const messageText = document.getElementById('queenPocketedText');
			messageText.textContent = message;

			// Add 'show' class to make the message visible
			messageBox.classList.add('show');

			// Clear any existing timeout
			if (messageBox.timeout) {
				clearTimeout(messageBox.timeout);
			}

			// Remove 'show' class after 7.5 seconds
			messageBox.timeout = setTimeout(() => {
				messageBox.classList.remove('show');
			}, 7500);
		}
		
		// Swap Players Functionality (Text Only)
		document.getElementById('swapPlayersButton').addEventListener('click', function () {
			// Get scoreboard elements for text
			const player1NameText = document.getElementById('player1NameText');
			const player2NameText = document.getElementById('player2NameText');
			const player1StateText = document.getElementById('player1StateText');
			const player2StateText = document.getElementById('player2StateText');
			const player1SetBoxText = document.getElementById('player1SetBoxText');
			const player2SetBoxText = document.getElementById('player2SetBoxText');
			const player1ScoreText = document.getElementById('player1ScoreText');
			const player2ScoreText = document.getElementById('player2ScoreText');

			// Swap names
			[player1NameText.textContent, player2NameText.textContent] =
				[player2NameText.textContent, player1NameText.textContent];

			// Swap states
			[player1StateText.textContent, player2StateText.textContent] =
				[player2StateText.textContent, player1StateText.textContent];

			// Swap set scores
			[player1SetBoxText.textContent, player2SetBoxText.textContent] =
				[player2SetBoxText.textContent, player1SetBoxText.textContent];

			// Swap total scores
			[player1ScoreText.textContent, player2ScoreText.textContent] =
				[player2ScoreText.textContent, player1ScoreText.textContent];
		});


    </script>
</html>